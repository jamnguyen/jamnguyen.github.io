{"version":3,"sources":["gallery/gallery.module.scss","hooks/useGiphy.js","photo-viewer/photo-viewer.js","gallery/photo-item/photo-item.js","gallery/gallery.js","App.js","reportWebVitals.js","index.js","gallery/photo-item/photo-item.module.scss","photo-viewer/photo-viewer.module.scss"],"names":["module","exports","DEFAULT_PAGE","offset","limit","useGiphy","useState","trendingImgs","setTrendingImgs","isFetching","setIsFetching","error","setError","total","setTotal","nextOffset","setNextOffset","page","setPage","useEffect","axios","get","params","api_key","then","data","imgs","pagination","total_count","count","err","finally","PhotoViewer","img","onClose","className","styles","background","onClick","type","container","alt","title","src","images","original","url","info","PhotoItem","user","wrapper","avatar","username","avatar_url","display_name","Gallery","React","currentImg","setCurrentImg","console","log","onScroll","e","view","target","scrollTop","clientHeight","scrollHeight","map","index","fixed_width","loader","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.67ab55d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"gallery_container__2ha-o\",\"loader\":\"gallery_loader__XnGg8\"};","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_KEY = 'vYTmo75kF2n6hCeBCB4Gu2N4PM5F5TT2';\r\n\r\nexport const DEFAULT_PAGE = {\r\n  offset: 0,\r\n  limit: 20\r\n};\r\n\r\nconst useGiphy = () => {\r\n\r\n  const [ trendingImgs, setTrendingImgs ] = useState([]);\r\n  const [ isFetching, setIsFetching ] = useState(false);\r\n  const [ error, setError ] = useState();\r\n  const [ total, setTotal ] = useState(0);\r\n  const [ nextOffset, setNextOffset ] = useState();\r\n  const [ page, setPage ] = useState(DEFAULT_PAGE);\r\n\r\n  useEffect(() => {\r\n    setIsFetching(true);\r\n    axios.get(\r\n      'https://api.giphy.com/v1/gifs/trending',\r\n      {\r\n        params: { ...page, api_key: API_KEY }\r\n      }\r\n    ).then(({ data: { data: imgs, pagination } }) => {\r\n      setTrendingImgs([ ...trendingImgs, ...imgs ]);\r\n      setTotal(pagination.total_count);\r\n      setNextOffset(pagination.count + pagination.offset);\r\n    }, err => {\r\n      setError(err);\r\n    }).finally(() => {\r\n      setIsFetching(false);\r\n    });\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n\r\n  return {\r\n    trendingImgs,\r\n    isFetching,\r\n    error,\r\n    nextOffset,\r\n    total,\r\n    page,\r\n    setPage\r\n  };\r\n};\r\n\r\nexport default useGiphy;","import React from 'react';\r\nimport styles from './photo-viewer.module.scss';\r\n\r\nconst PhotoViewer = ({ img, onClose }) => {\r\n\r\n  if (!img) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={ styles.background }>\r\n      <button onClick={ onClose } type=\"button\">X</button>\r\n      <div className={ styles.container }>\r\n        <img alt={ img.title } src={ img.images.original.url } />\r\n        <span className={ styles.info } >{ img.title }</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoViewer;","import React from 'react';\r\nimport styles from './photo-item.module.scss';\r\n\r\nconst PhotoItem = ({ title, src, user, onClick }) => {\r\n  return (\r\n    <div className={ styles.container }>\r\n      <div className={ styles.wrapper } onClick={ onClick }>\r\n        <img alt={ title } src={ src } />\r\n      </div>\r\n      {\r\n        user &&\r\n          <div className={ styles.user }>\r\n            <span className={ styles.avatar }>\r\n              <img alt={ `${user.username}'s avatar` } src={ user.avatar_url } />\r\n            </span>\r\n            { user.display_name }\r\n          </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PhotoItem;","import React from 'react';\r\nimport useGiphy from '../hooks/useGiphy';\r\nimport PhotoViewer from '../photo-viewer/photo-viewer';\r\nimport styles from './gallery.module.scss';\r\nimport PhotoItem from './photo-item/photo-item';\r\n\r\nconst Gallery = () => {\r\n\r\n  const [ currentImg, setCurrentImg ] = React.useState();\r\n\r\n  const {\r\n    trendingImgs,\r\n    isFetching,\r\n    page,\r\n    nextOffset,\r\n    total,\r\n    setPage\r\n  } = useGiphy();\r\n\r\n  React.useEffect(() => {\r\n    console.log('trendingImgs', trendingImgs)\r\n  }, [trendingImgs]);\r\n\r\n  const onScroll = (e) => {\r\n    const view = e.target;\r\n    // Reach bottom of the gallery\r\n    if(view.scrollTop + view.clientHeight >= view.scrollHeight) {\r\n      if (!isFetching && nextOffset < total - 1) {\r\n        console.log('setPage', nextOffset)\r\n        setPage({ ...page, offset: nextOffset });\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={ styles.container }\r\n        onScroll={ onScroll }\r\n      >\r\n        {\r\n          trendingImgs.map((img, index) => (\r\n            <PhotoItem\r\n              key={ `photo-${index}` }\r\n              user={ img.user }\r\n              src={ img.images.fixed_width.url }\r\n              title={ img.title }\r\n              onClick={ () => setCurrentImg(img) }\r\n            />\r\n          ))\r\n        }\r\n        {\r\n          isFetching &&\r\n            <div className={ styles.loader }>Loading...</div>\r\n        }\r\n      </div>\r\n      <PhotoViewer img={ currentImg } onClose={ () => setCurrentImg(null) } />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Gallery;","import Gallery from \"./gallery/gallery\";\n\nfunction App() {\n  return (\n    <Gallery />\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"photo-item_container__2_Oli\",\"wrapper\":\"photo-item_wrapper__3SW8B\",\"user\":\"photo-item_user__1Tqjn\",\"avatar\":\"photo-item_avatar__vRnuP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"photo-viewer_background__dNFIy\",\"container\":\"photo-viewer_container__1OoPE\",\"info\":\"photo-viewer_info__25jUv\"};"],"sourceRoot":""}