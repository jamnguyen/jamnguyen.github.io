(this["webpackJsonpmessage-media-pycogroup-2020"]=this["webpackJsonpmessage-media-pycogroup-2020"]||[]).push([[0],{10:function(e,t,n){e.exports={container:"photo-item_container__2_Oli",user:"photo-item_user__1Tqjn"}},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),o=n.n(a),i=n(20),s=n.n(i),r=n(4),l=n(3),u=n(11),j=n(21),g=n.n(j),b={offset:0,limit:20},f=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),i=Object(l.a)(o,2),s=i[0],j=i[1],f=Object(a.useState)(),d=Object(l.a)(f,2),O=d[0],p=d[1],h=Object(a.useState)(0),m=Object(l.a)(h,2),_=m[0],v=m[1],x=Object(a.useState)(),k=Object(l.a)(x,2),y=k[0],C=k[1],F=Object(a.useState)(b),S=Object(l.a)(F,2),N=S[0],P=S[1];return Object(a.useEffect)((function(){j(!0),g.a.get("https://api.giphy.com/v1/gifs/trending",{params:Object(r.a)(Object(r.a)({},N),{},{api_key:"vYTmo75kF2n6hCeBCB4Gu2N4PM5F5TT2"})}).then((function(e){var t=e.data,a=t.data,o=t.pagination;c([].concat(Object(u.a)(n),Object(u.a)(a))),v(o.total_count),C(o.count+o.offset)}),(function(e){p(e)})).finally((function(){j(!1)}))}),[N]),{trendingImgs:n,isFetching:s,error:O,nextOffset:y,total:_,page:N,setPage:P}},d=n(7),O=n.n(d),p=function(e){var t=e.img,n=e.onClose;return t?Object(c.jsxs)("div",{className:O.a.background,children:[Object(c.jsx)("button",{onClick:n,type:"button",children:"X"}),Object(c.jsxs)("div",{className:O.a.container,children:[Object(c.jsx)("img",{alt:t.title,src:t.images.original.url}),Object(c.jsx)("span",{className:O.a.info,children:t.title})]})]}):null},h=n(9),m=n.n(h),_=n(10),v=n.n(_),x=function(e){var t=e.title,n=e.src,a=e.user,o=e.onClick;return Object(c.jsxs)("div",{className:v.a.container,onClick:o,children:[Object(c.jsx)("img",{alt:t,src:n}),a&&Object(c.jsx)("span",{className:v.a.user,children:a})]})},k=function(){var e=o.a.useState(),t=Object(l.a)(e,2),n=t[0],a=t[1],i=f(),s=i.trendingImgs,u=i.isFetching,j=i.page,g=i.nextOffset,b=i.total,d=i.setPage;o.a.useEffect((function(){console.log("trendingImgs",s)}),[s]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:m.a.container,onScroll:function(e){var t=e.target;t.scrollTop+t.clientHeight>=t.scrollHeight&&!u&&g<b-1&&(console.log("setPage",g),d(Object(r.a)(Object(r.a)({},j),{},{offset:g})))},children:[s.map((function(e,t){var n;return Object(c.jsx)(x,{user:null===(n=e.user)||void 0===n?void 0:n.display_name,src:e.images.fixed_width.url,title:e.title,onClick:function(){return a(e)}},"photo-".concat(t))})),u&&Object(c.jsx)("div",{className:m.a.loader,children:"Loading..."})]}),Object(c.jsx)(p,{img:n,onClose:function(){return a(null)}})]})};var y=function(){return Object(c.jsx)(k,{})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};n(44);s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),C()},7:function(e,t,n){e.exports={background:"photo-viewer_background__dNFIy",container:"photo-viewer_container__1OoPE",info:"photo-viewer_info__25jUv"}},9:function(e,t,n){e.exports={container:"gallery_container__2ha-o",loader:"gallery_loader__XnGg8"}}},[[45,1,2]]]);
//# sourceMappingURL=main.cbcae452.chunk.js.map