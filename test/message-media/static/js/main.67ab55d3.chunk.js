(this["webpackJsonpmessage-media-pycogroup-2020"]=this["webpackJsonpmessage-media-pycogroup-2020"]||[]).push([[0],{10:function(e,t,n){e.exports={container:"gallery_container__2ha-o",loader:"gallery_loader__XnGg8"}},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),o=n(20),r=n.n(o),s=n(4),l=n(3),u=n(11),j=n(21),g=n.n(j),b={offset:0,limit:20},d=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),r=o[0],j=o[1],d=Object(c.useState)(),O=Object(l.a)(d,2),f=O[0],p=O[1],m=Object(c.useState)(0),h=Object(l.a)(m,2),_=h[0],v=h[1],x=Object(c.useState)(),k=Object(l.a)(x,2),y=k[0],C=k[1],N=Object(c.useState)(b),S=Object(l.a)(N,2),F=S[0],w=S[1];return Object(c.useEffect)((function(){j(!0),g.a.get("https://api.giphy.com/v1/gifs/trending",{params:Object(s.a)(Object(s.a)({},F),{},{api_key:"vYTmo75kF2n6hCeBCB4Gu2N4PM5F5TT2"})}).then((function(e){var t=e.data,c=t.data,i=t.pagination;a([].concat(Object(u.a)(n),Object(u.a)(c))),v(i.total_count),C(i.count+i.offset)}),(function(e){p(e)})).finally((function(){j(!1)}))}),[F]),{trendingImgs:n,isFetching:r,error:f,nextOffset:y,total:_,page:F,setPage:w}},O=n(8),f=n.n(O),p=function(e){var t=e.img,n=e.onClose;return t?Object(a.jsxs)("div",{className:f.a.background,children:[Object(a.jsx)("button",{onClick:n,type:"button",children:"X"}),Object(a.jsxs)("div",{className:f.a.container,children:[Object(a.jsx)("img",{alt:t.title,src:t.images.original.url}),Object(a.jsx)("span",{className:f.a.info,children:t.title})]})]}):null},m=n(10),h=n.n(m),_=n(6),v=n.n(_),x=function(e){var t=e.title,n=e.src,c=e.user,i=e.onClick;return Object(a.jsxs)("div",{className:v.a.container,children:[Object(a.jsx)("div",{className:v.a.wrapper,onClick:i,children:Object(a.jsx)("img",{alt:t,src:n})}),c&&Object(a.jsxs)("div",{className:v.a.user,children:[Object(a.jsx)("span",{className:v.a.avatar,children:Object(a.jsx)("img",{alt:"".concat(c.username,"'s avatar"),src:c.avatar_url})}),c.display_name]})]})},k=function(){var e=i.a.useState(),t=Object(l.a)(e,2),n=t[0],c=t[1],o=d(),r=o.trendingImgs,u=o.isFetching,j=o.page,g=o.nextOffset,b=o.total,O=o.setPage;i.a.useEffect((function(){console.log("trendingImgs",r)}),[r]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:h.a.container,onScroll:function(e){var t=e.target;t.scrollTop+t.clientHeight>=t.scrollHeight&&!u&&g<b-1&&(console.log("setPage",g),O(Object(s.a)(Object(s.a)({},j),{},{offset:g})))},children:[r.map((function(e,t){return Object(a.jsx)(x,{user:e.user,src:e.images.fixed_width.url,title:e.title,onClick:function(){return c(e)}},"photo-".concat(t))})),u&&Object(a.jsx)("div",{className:h.a.loader,children:"Loading..."})]}),Object(a.jsx)(p,{img:n,onClose:function(){return c(null)}})]})};var y=function(){return Object(a.jsx)(k,{})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};n(44);r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),C()},6:function(e,t,n){e.exports={container:"photo-item_container__2_Oli",wrapper:"photo-item_wrapper__3SW8B",user:"photo-item_user__1Tqjn",avatar:"photo-item_avatar__vRnuP"}},8:function(e,t,n){e.exports={background:"photo-viewer_background__dNFIy",container:"photo-viewer_container__1OoPE",info:"photo-viewer_info__25jUv"}}},[[45,1,2]]]);
//# sourceMappingURL=main.67ab55d3.chunk.js.map