(this["webpackJsonptiny-pulse"]=this["webpackJsonptiny-pulse"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),i=n(7),u=n.n(i),s=(n(14),n(6)),o=n.n(s),l=n(3),d=n(8),j=n(2),p=n(4),f=(n(16),function(e){var t=e.idField,n=void 0===t?"id":t,a=e.textField,i=void 0===a?"text":a,u=e.value,s=e.onChange,o=e.search,d=r.a.useState(!1),f=Object(j.a)(d,2),h=f[0],b=f[1],v=r.a.useState({mapper:{},ids:[]}),O=Object(j.a)(v,2),m=O[0],x=O[1],g=r.a.useState(""),S=Object(j.a)(g,2),y=S[0],C=S[1],F=r.a.useState(!1),k=Object(j.a)(F,2),w=k[0],N=k[1],T=r.a.useRef();r.a.useEffect((function(){E()}),[]),r.a.useEffect((function(){h||C("")}),[h]);var E=function(e){N(!0),o(e).then((function(e){x({mapper:e.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(p.a)({},t[n],t))}),{}),ids:e.map((function(e){return e[n]}))})})).finally((function(){N(!1)}))};return Object(c.jsxs)("div",{className:"selector-container",children:[w&&Object(c.jsx)("span",{className:"selector-loader"}),Object(c.jsx)("div",{className:"selector-result",onClick:function(){return b(!h)},children:(null===u||void 0===u?void 0:u[i])||"Select an option"}),h&&Object(c.jsxs)("div",{className:"selector-options",children:[Object(c.jsx)("input",{value:y,onChange:function(e){T.current&&clearTimeout(T.current),T.current=setTimeout((function(){E(e.target.value)}),1e3),C(e.target.value)},type:"text",autoFocus:!0,disabled:w}),Object(c.jsx)("ul",{children:m.ids.map((function(e){return Object(c.jsx)("li",{onClick:function(){return function(e){w||(s(e),b(!1))}(m.mapper[e])},className:e===(null===u||void 0===u?void 0:u[n])?"highlighted":"",children:m.mapper[e][i]},m.mapper[e][n])}))})]})]})}),h="https://hn.algolia.com/api/v1/search";var b=function(){var e=r.a.useState(),t=Object(j.a)(e,2),n=t[0],a=t[1],i=function(){var e=Object(d.a)(o.a.mark((function e(){var t,n,c,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.prev=1,e.next=4,fetch(h+"?"+new URLSearchParams({query:t}));case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c.hits.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{id:e.objectID,text:e.title||e.story_text})})));case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsx)(f,{value:n,onChange:a,search:i})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};u.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(b,{})}),document.getElementById("root")),v()}},[[17,1,2]]]);
//# sourceMappingURL=main.d881369f.chunk.js.map